generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model projects {
  id          Int      @id @default(autoincrement())
  title       String
  slug        String   @unique
  description String
  image       String
  images      String?  // JSON array of additional images
  link_demo   String?
  link_github String?
  stacks      String
  is_show     Boolean  @default(true)
  updated_at  DateTime @default(now())
  content     String?
  is_featured Boolean  @default(false)
}

model contentmeta {
  id         Int      @id @default(autoincrement())
  slug       String   @unique
  type       String
  views      Int      @default(0)
  updated_at DateTime @default(now())
}

model stories {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  image       String
  images      String?  // JSON array of additional images
  link        String?
  order       Int      @default(0)
  is_show     Boolean  @default(true)
  created_at  DateTime @default(now())
  updated_at  DateTime @default(now())
}

model blogs {
  id                  Int      @id @default(autoincrement())
  title               String
  slug                String   @unique
  content             String   @db.Text
  excerpt             String?  @db.Text
  featured_image_url  String?
  images              String?  // JSON array of additional images
  status              String   @default("draft") // draft, publish
  is_featured         Boolean  @default(false)
  tags                String?  // JSON array of tags
  author_id           Int      @default(1)
  published_at        DateTime?
  created_at          DateTime @default(now())
  updated_at          DateTime @default(now())
}

model guestbook {
  id         Int      @id @default(autoincrement())
  name       String
  email      String
  message    String   @db.Text
  image      String?  // Optional profile image URL
  is_show    Boolean  @default(true)
  created_at DateTime @default(now())
  updated_at DateTime @default(now())
}

model comments {
  id         Int      @id @default(autoincrement())
  slug       String
  type       String   @default("blog") // blog, learn
  name       String
  email      String
  message    String   @db.Text
  image      String?
  is_show    Boolean  @default(true)
  created_at DateTime @default(now())
}
